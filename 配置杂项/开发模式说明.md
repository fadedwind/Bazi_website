# å¼€å‘æ¨¡å¼è¯´æ˜

## ğŸ“‹ dev å’Œ production çš„åŒºåˆ«

### production æ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

- ä½¿ç”¨ `npm install --production`ï¼Œåªå®‰è£… `dependencies`
- ä¸å®‰è£… `devDependencies`ï¼ˆå¦‚ `nodemon`ï¼‰
- ä½¿ç”¨ `npm start`ï¼ˆç›´æ¥è¿è¡Œ `node src/index.js`ï¼‰
- ä»£ç ä¿®æ”¹åéœ€è¦æ‰‹åŠ¨é‡å¯

### dev æ¨¡å¼ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

- ä½¿ç”¨ `npm install`ï¼Œå®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬ `devDependencies`ï¼‰
- å®‰è£… `nodemon`ï¼ˆè‡ªåŠ¨é‡å¯å·¥å…·ï¼‰
- ä½¿ç”¨ `npm run dev`ï¼ˆä½¿ç”¨ `nodemon` è¿è¡Œï¼‰
- ä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯

---

## ğŸ”§ åœ¨å®å¡”é¢æ¿åˆ‡æ¢æ¨¡å¼

### åˆ‡æ¢åˆ°å¼€å‘æ¨¡å¼

1. **ç™»å½•å®å¡”é¢æ¿** â†’ **ç»ˆç«¯**

2. **è¿›å…¥åç«¯ç›®å½•**ï¼š
   ```bash
   cd /www/wwwroot/backend
   ```

3. **åœæ­¢å½“å‰æœåŠ¡**ï¼š
   ```bash
   # å¦‚æœä½¿ç”¨ PM2
   pm2 stop bazi-backend
   
   # æˆ–æŸ¥æ‰¾å¹¶åœæ­¢è¿›ç¨‹
   ps aux | grep node
   kill PID
   ```

4. **åˆ é™¤ä¾èµ–å¹¶é‡æ–°å®‰è£…**ï¼š
   ```bash
   rm -rf node_modules package-lock.json
   npm install  # å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬ devDependenciesï¼‰
   ```

5. **å¯åŠ¨å¼€å‘æ¨¡å¼**ï¼š
   ```bash
   npm run dev
   ```

### åˆ‡æ¢å›ç”Ÿäº§æ¨¡å¼

1. **åœæ­¢æœåŠ¡**

2. **åˆ é™¤ä¾èµ–å¹¶é‡æ–°å®‰è£…**ï¼š
   ```bash
   rm -rf node_modules package-lock.json
   npm install --production  # åªå®‰è£…è¿è¡Œæ—¶ä¾èµ–
   ```

3. **å¯åŠ¨ç”Ÿäº§æ¨¡å¼**ï¼š
   ```bash
   npm start
   # æˆ–ä½¿ç”¨ PM2
   pm2 start src/index.js --name bazi-backend
   ```

---

## ğŸ’¡ å»ºè®®

- **ç”Ÿäº§ç¯å¢ƒ**ï¼šä½¿ç”¨ production æ¨¡å¼ï¼ŒèŠ‚çœç©ºé—´å’Œèµ„æº
- **è°ƒè¯•æ—¶**ï¼šä½¿ç”¨ dev æ¨¡å¼ï¼Œæ–¹ä¾¿ä»£ç ä¿®æ”¹å’Œæµ‹è¯•

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- [å®Œæ•´éƒ¨ç½²æŒ‡å—](./å®Œæ•´éƒ¨ç½²æŒ‡å—.md)




