# 宝塔面板部署指南

## 问题说明
当前只上传了 `index.html` 文件，但 HTML 文件引用了相对路径的资源文件（JS、CSS、静态资源），导致页面无法正常加载。

## 正确部署步骤

### 1. 构建生产版本（如果还没构建）
在本地 `8Char-Uni-App` 目录下运行：
```bash
npm run build:h5
```

### 2. 准备部署文件
构建完成后，需要上传的目录是：
```
8Char-Uni-App/dist/build/h5/
```

这个目录包含：
- `index.html` - 主页面文件
- `assets/` - JS和CSS文件目录
- `static/` - 静态资源目录（图标等）

### 3. 宝塔面板部署步骤

#### 方法一：直接上传整个目录（推荐）

1. **登录宝塔面板**，进入网站管理
2. **找到你的网站根目录**（通常是 `/www/wwwroot/你的域名/`）
3. **清空网站根目录**（或备份现有文件）
4. **上传整个 `h5` 目录的内容**到网站根目录
   - 上传 `index.html`
   - 上传 `assets/` 文件夹（包含所有JS和CSS文件）
   - 上传 `static/` 文件夹（包含所有静态资源）

#### 方法二：使用FTP/SFTP上传

1. 使用FTP工具（如FileZilla）连接到服务器
2. 进入网站根目录
3. 将 `8Char-Uni-App/dist/build/h5/` 目录下的**所有文件和文件夹**上传到网站根目录
4. 确保目录结构如下：
   ```
   网站根目录/
   ├── index.html
   ├── assets/
   │   ├── index-25996f5f.js
   │   ├── index-5cf8a8b4.css
   │   └── ... (其他JS和CSS文件)
   └── static/
       └── icon/
           └── ... (静态资源)
   ```

### 4. 验证部署

部署完成后，访问你的域名，应该能看到完整的应用界面，而不是空白页面。

### 5. 配置Nginx（如果需要）

如果使用Nginx，确保配置了正确的路由规则，让所有路由都指向 `index.html`（用于Vue Router的history模式）：

```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

## 常见问题

### Q: 为什么只上传index.html不行？
A: 因为 `index.html` 中引用了相对路径的资源：
- `./assets/index-25996f5f.js`
- `./assets/index-5cf8a8b4.css`
- `./static/icon/...`

这些文件必须和 `index.html` 在同一目录结构下才能正常加载。

### Q: 如何确认文件都上传了？
A: 检查网站根目录应该包含：
- ✅ `index.html`
- ✅ `assets/` 文件夹（里面有多个.js和.css文件）
- ✅ `static/` 文件夹（里面有icon等子文件夹）

### Q: 上传后还是显示空白？
A: 检查以下几点：
1. 浏览器控制台是否有404错误（资源文件找不到）
2. 文件路径是否正确（assets和static文件夹是否在根目录）
3. 文件权限是否正确（建议设置为644）
4. Nginx配置是否正确

## 快速检查清单

- [ ] 已运行 `npm run build:h5` 构建生产版本
- [ ] 已上传 `index.html` 到网站根目录
- [ ] 已上传 `assets/` 文件夹到网站根目录
- [ ] 已上传 `static/` 文件夹到网站根目录
- [ ] 文件权限设置正确（644）
- [ ] Nginx配置了正确的路由规则
- [ ] 访问域名可以正常显示页面

